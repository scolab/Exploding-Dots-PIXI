/*!
 * pixi-filters - v1.0.6
 * Compiled Wed Aug 31 2016 08:40:40 GMT-0400 (EDT)
 *
 * pixi-filters is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o.twist=n()}}(function(){return function n(o,e,r){function t(f,d){if(!e[f]){if(!o[f]){var u="function"==typeof require&&require;if(!d&&u)return u(f,!0);if(i)return i(f,!0);var c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c}var s=e[f]={exports:{}};o[f][0].call(s.exports,function(n){var e=o[f][1][n];return t(e?e:n)},s,s.exports,n,o,e,r)}return e[f].exports}for(var i="function"==typeof require&&require,f=0;f<r.length;f++)t(r[f]);return t}({1:[function(n,o,e){if("undefined"==typeof PIXI)throw new Error("pixi.js is required to be included")},{}],2:[function(n,o,e){function r(){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 twist(vec2 coord)\n{\n    coord -= offset;\n\n    float dist = length(coord);\n\n    if (dist < radius)\n    {\n        float ratioDist = (radius - dist) / radius;\n        float angleMod = ratioDist * ratioDist * angle;\n        float s = sin(angleMod);\n        float c = cos(angleMod);\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n    }\n\n    coord += offset;\n\n    return coord;\n}\n\nvoid main(void)\n{\n\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = twist(coord);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord );\n\n}\n"),this.radius=200,this.angle=4,this.padding=20}r.prototype=Object.create(PIXI.Filter.prototype),r.prototype.constructor=r,o.exports=r,Object.defineProperties(r.prototype,{offset:{get:function(){return this.uniforms.offset},set:function(n){this.uniforms.offset=n}},radius:{get:function(){return this.uniforms.radius},set:function(n){this.uniforms.radius=n}},angle:{get:function(){return this.uniforms.angle},set:function(n){this.uniforms.angle=n}}})},{}],3:[function(n,o,e){n("../check");var r=PIXI.filters.TwistFilter=n("./TwistFilter");"undefined"!=typeof o&&o.exports&&(o.exports=r)},{"../check":1,"./TwistFilter":2}]},{},[3])(3)});
//# sourceMappingURL=twist.min.js.map
